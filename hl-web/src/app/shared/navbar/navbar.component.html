<mat-toolbar color="primary">
  <a class="brand" [routerLink]="['/', currentLang]">
    <img src="brand/navbar-logo.png" alt="HL Deals" />
  </a>
  <span class="spacer"></span>

  <nav class="links desktop">
    <a mat-button [routerLink]="['/', currentLang]">{{ 'nav.home' | translate }}</a>
    <a mat-button [routerLink]="['/', currentLang, 'about']">{{ 'nav.about' | translate }}</a>
    @if (isUserOrAdmin) {
      <a mat-button [routerLink]="['/', currentLang, 'home']">{{ 'nav.demo' | translate }}</a>
    }
    @if (role==='admin') {
      <a mat-button [routerLink]="['/', currentLang, 'admin']">{{ 'nav.admin' | translate }}</a>
    }
  </nav>

  <div class="auth desktop">
    @if (!isAuthenticated) {
      <button mat-stroked-button [routerLink]="['/', currentLang, 'login']">{{ 'nav.login' | translate }}</button>
    } @else {
      <button mat-stroked-button (click)="logout()">{{ 'nav.logout' | translate }} ({{displayName}})</button>
    }
  </div>

  <div class="lang desktop">
    <button mat-button class="lang-trigger" [matMenuTriggerFor]="langMenu">
      {{ (translate.currentLang || 'en') | uppercase }}
      <mat-icon fontSet="material-symbols-outlined">expand_more</mat-icon>
    </button>
  </div>

  <div class="mobile-menu">
    <button mat-icon-button [matMenuTriggerFor]="menu">
      <mat-icon fontSet="material-symbols-outlined">menu</mat-icon>
    </button>
  </div>
</mat-toolbar>

<mat-menu #menu="matMenu">
  <button mat-menu-item [routerLink]="['/', currentLang]">{{ 'nav.home' | translate }}</button>
  <button mat-menu-item [routerLink]="['/', currentLang, 'about']">{{ 'nav.about' | translate }}</button>
  @if (isUserOrAdmin) {
    <button mat-menu-item [routerLink]="['/', currentLang, 'home']">{{ 'nav.demo' | translate }}</button>
  }
  @if (role==='admin') {
    <button mat-menu-item [routerLink]="['/', currentLang, 'admin']">{{ 'nav.admin' | translate }}</button>
  }
  <mat-divider></mat-divider>
  @if (!isAuthenticated) {
    <button mat-menu-item [routerLink]="['/', currentLang, 'login']">{{ 'nav.login' | translate }}</button>
  } @else {
    <button mat-menu-item (click)="logout()">{{ 'nav.logout' | translate }} ({{displayName}})</button>
  }
  <mat-divider></mat-divider>
  <button mat-menu-item (click)="switchLang('es')">ES</button>
  <button mat-menu-item (click)="switchLang('en')">EN</button>
</mat-menu>

<mat-menu #langMenu="matMenu">
  <button mat-menu-item (click)="switchLang('es')" [disabled]="translate.currentLang === 'es'">
    {{ 'lang.es' | translate }}
  </button>
  <button mat-menu-item (click)="switchLang('en')" [disabled]="translate.currentLang === 'en'">
    {{ 'lang.en' | translate }}
  </button>
</mat-menu>
