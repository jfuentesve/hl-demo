<mat-toolbar color="primary">
  <a class="brand" routerLink="/">
    <img src="brand/navbar-logo.png" alt="HL Deals" />
  </a>
  <span class="spacer"></span>

  <nav class="links desktop">
    <a mat-button routerLink="/" translate>nav.home</a>
    <a mat-button routerLink="/about" translate>nav.about</a>
    @if (isUserOrAdmin) {
      <a mat-button routerLink="/home" translate>nav.demo</a>
    }
    @if (role==='admin') {
      <a mat-button routerLink="/admin">Admin</a>
    }
  </nav>

  <div class="auth desktop">
    @if (!isAuthenticated) {
      <button mat-stroked-button routerLink="/login" translate>nav.login</button>
    } @else {
      <button mat-stroked-button (click)="logout()">{{ 'nav.logout' | translate }} ({{displayName}})</button>
    }
  </div>

  <div class="lang desktop">
    <button mat-button (click)="switchLang('es')" [disabled]="translate.currentLang === 'es'">ES</button>
    <button mat-button (click)="switchLang('en')" [disabled]="translate.currentLang === 'en'">EN</button>
  </div>

  <div class="mobile-menu">
    <button mat-icon-button [matMenuTriggerFor]="menu">
      <mat-icon fontSet="material-symbols-outlined">menu</mat-icon>
    </button>
  </div>
</mat-toolbar>

<mat-menu #menu="matMenu">
  <button mat-menu-item routerLink="/" translate>nav.home</button>
  <button mat-menu-item routerLink="/about" translate>nav.about</button>
  @if (isUserOrAdmin) {
    <button mat-menu-item routerLink="/home" translate>nav.demo</button>
  }
  @if (role==='admin') {
    <button mat-menu-item routerLink="/admin">Admin</button>
  }
  <mat-divider></mat-divider>
  @if (!isAuthenticated) {
    <button mat-menu-item routerLink="/login" translate>nav.login</button>
  } @else {
    <button mat-menu-item (click)="logout()">{{ 'nav.logout' | translate }} ({{displayName}})</button>
  }
  <mat-divider></mat-divider>
  <button mat-menu-item (click)="switchLang('es')">ES</button>
  <button mat-menu-item (click)="switchLang('en')">EN</button>
</mat-menu>
